/*!
  * Fidel Modal - A basic modal for the fidel library
  * v0.0.4
  * https://github.com/jgallen23/fidel.modal
  * copyright JGA 2011
  * MIT License
  */
Fidel.Modal=Fidel.ViewController.extend({defaults:{id:"FidelModalOverlay"},init:function(){$("body").delegate("#"+this.id,"click",this.proxy(this.close))},close:function(){this._overlay.remove(),this.emit("close")},showOverlay:function(){return this._overlay=$('<div id="'+this.id+'"><div></div></div>'),this._overlay.appendTo("body"),this._overlay},showImage:function(a){var b=this.showOverlay(),c=a.target.parentNode.getAttribute("data-image");b.find("div").css("background-image","url("+c+")"),setTimeout(function(){b.addClass("zoom"),setTimeout(function(){b.addClass("normal")},300)},50)},showModal:function(a){var b=this.showOverlay(),c=$("#"+a.target.getAttribute("data-modal"));b.css("opacity","1");var d=$(window).height(),e=$(window).width();c.show().css({"z-index":1001,position:"absolute",top:(d-c.height())/2,left:(e-c.width())/2});var f=this,g=this.on("close",function(){c.hide(),f.removeListener(g)})}})